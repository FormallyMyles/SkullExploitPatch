package us.myles.sep;

import org.bukkit.Chunk;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.world.ChunkLoadEvent;
import org.bukkit.event.world.WorldLoadEvent;

public class ChunkPatcher implements Listener {

    private final SkullExploitPatch plugin;

    public ChunkPatcher(SkullExploitPatch skullExploitPatch) {
        this.plugin = skullExploitPatch;
    }

    @EventHandler
    public void onLoad(ChunkLoadEvent e) {
        plugin.cleanChunk(e.getChunk());
    }

    @EventHandler
    public void onLoad2(WorldLoadEvent e) {
        for (Chunk c : e.getWorld().getLoadedChunks()) {
            plugin.cleanChunk(c);
        }
    }
}
